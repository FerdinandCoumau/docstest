import{D as O,E as V,G as _t,H as X,I as Ue,J as Lt,r as F,b as nt,K as Te,L as ve,M as st,d as ne,N as ce,O as Ft,P as B,B as se,Q as Bt,R as ot,S as zt,U as Ie,o as me,V as Se,W as Dt,X as Nt,Y as jt,Z as ke,$ as De,F as we,a0 as Ne,a1 as Oe,a2 as Vt,a3 as it,a4 as Kt,a5 as Ht,a6 as Z,a7 as lt,a8 as Ge,a9 as Wt,aa as Y,l as je,ab as Re,ac as at,ad as rt,ae as Ve,af as Ke,ag as ee,c as L,e as W,n as _,t as oe,g as U,f as G,ah as Me,ai as j,w as q,aj as ae,ak as re,al as Ut,k as Gt,am as ut,an as Ce,ao as ct,ap as He,aq as ge,ar as dt,as as ht,at as qt,au as Yt,h as pe,av as Jt,aw as Xt,ax as Qt,ay as Zt,az as en,aA as tn,aB as nn,aC as sn,aD as ft,aE as on,a as ln,y as an,aF as rn,aG as un,aH as cn,aI as dn,aJ as hn}from"./DtQEuP9O.js";const fn={wrapper:"flex flex-col flex-1 min-h-0 divide-y divide-gray-100 dark:divide-gray-800",container:"relative flex-1 overflow-y-auto divide-y divide-gray-100 dark:divide-gray-800 scroll-py-2",input:{wrapper:"relative flex items-center",base:"w-full placeholder-gray-400 dark:placeholder-gray-500 bg-transparent border-0 text-gray-900 dark:text-white focus:ring-0 focus:outline-none",padding:"px-4",height:"h-12",size:"sm:text-sm",icon:{base:"pointer-events-none absolute start-4 text-gray-400 dark:text-gray-500",loading:"animate-spin",size:"h-5 w-5",padding:"ps-11"},closeButton:{base:"absolute end-4",padding:"pe-10"}},emptyState:{wrapper:"flex flex-col items-center justify-center flex-1 px-6 py-14 sm:px-14",label:"text-sm text-center text-gray-900 dark:text-white",queryLabel:"text-sm text-center text-gray-900 dark:text-white",icon:"w-6 h-6 mx-auto text-gray-400 dark:text-gray-500 mb-4"},group:{wrapper:"p-2",label:"px-2.5 my-2 text-xs font-semibold text-gray-900 dark:text-white",container:"text-sm text-gray-700 dark:text-gray-200",command:{base:"flex justify-between select-none items-center rounded-md px-2.5 py-1.5 gap-2 relative",active:"bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white",inactive:"",label:"flex items-center gap-1.5 min-w-0",prefix:"text-gray-400 dark:text-gray-500",suffix:"text-gray-400 dark:text-gray-500",container:"flex items-center gap-1.5 min-w-0",icon:{base:"flex-shrink-0 w-5 h-5",active:"text-gray-900 dark:text-white",inactive:"text-gray-400 dark:text-gray-500"},selectedIcon:{base:"h-5 w-5 text-gray-900 dark:text-white flex-shrink-0"},avatar:{base:"flex-shrink-0",size:"2xs"},chip:{base:"flex-shrink-0 w-2 h-2 mx-1 rounded-full"},disabled:"opacity-50",shortcuts:"hidden md:inline-flex flex-shrink-0 gap-0.5"},active:"flex-shrink-0 text-gray-500 dark:text-gray-400",inactive:"flex-shrink-0 text-gray-500 dark:text-gray-400"},default:{icon:"i-heroicons-magnifying-glass-20-solid",loadingIcon:"i-heroicons-arrow-path-20-solid",emptyState:{icon:"i-heroicons-magnifying-glass-20-solid",label:"We couldn't find any items.",queryLabel:"We couldn't find any items with that term. Please try again."},closeButton:null,selectedIcon:"i-heroicons-check-20-solid"}},pn={wrapper:"relative z-50",inner:"fixed inset-0 overflow-y-auto",container:"flex min-h-full items-end sm:items-center justify-center text-center",padding:"p-4 sm:p-0",margin:"sm:my-8",base:"relative text-left rtl:text-right flex flex-col",overlay:{base:"fixed inset-0 transition-opacity",background:"bg-gray-200/75 dark:bg-gray-800/75",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0"}},background:"bg-white dark:bg-gray-900",ring:"",rounded:"rounded-lg",shadow:"shadow-xl",width:"w-full sm:max-w-lg",height:"",fullscreen:"w-screen h-screen",transition:{enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95",enterTo:"opacity-100 translate-y-0 sm:scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0 sm:scale-100",leaveTo:"opacity-0 translate-y-4 sm:translate-y-0 sm:scale-95"}};function fe(e,s,t){let o=t.initialDeps??[],n;return()=>{var i,a,l,u;let d;t.key&&((i=t.debug)!=null&&i.call(t))&&(d=Date.now());const r=e();if(!(r.length!==o.length||r.some((y,S)=>o[S]!==y)))return n;o=r;let v;if(t.key&&((a=t.debug)!=null&&a.call(t))&&(v=Date.now()),n=s(...r),t.key&&((l=t.debug)!=null&&l.call(t))){const y=Math.round((Date.now()-d)*100)/100,S=Math.round((Date.now()-v)*100)/100,E=S/16,T=($,w)=>{for($=String($);$.length<w;)$=" "+$;return $};console.info(`%câ± ${T(S,5)} /${T(y,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*E,120))}deg 100% 31%);`,t==null?void 0:t.key)}return(u=t==null?void 0:t.onChange)==null||u.call(t,n),n}}function $e(e,s){if(e===void 0)throw new Error("Unexpected undefined");return e}const vn=(e,s)=>Math.abs(e-s)<1,mn=(e,s,t)=>{let o;return function(...n){e.clearTimeout(o),o=e.setTimeout(()=>s.apply(this,n),t)}},gn=e=>e,bn=e=>{const s=Math.max(e.startIndex-e.overscan,0),t=Math.min(e.endIndex+e.overscan,e.count-1),o=[];for(let n=s;n<=t;n++)o.push(n);return o},yn=(e,s)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;const n=a=>{const{width:l,height:u}=a;s({width:Math.round(l),height:Math.round(u)})};if(n(t.getBoundingClientRect()),!o.ResizeObserver)return()=>{};const i=new o.ResizeObserver(a=>{const l=a[0];if(l!=null&&l.borderBoxSize){const u=l.borderBoxSize[0];if(u){n({width:u.inlineSize,height:u.blockSize});return}}n(t.getBoundingClientRect())});return i.observe(t,{box:"border-box"}),()=>{i.unobserve(t)}},qe={passive:!0},xn=typeof window>"u"?!0:"onscrollend"in window,In=(e,s)=>{const t=e.scrollElement;if(!t)return;const o=e.targetWindow;if(!o)return;let n=0;const i=xn?()=>{}:mn(o,()=>{s(n,!1)},e.options.isScrollingResetDelay),a=d=>()=>{n=t[e.options.horizontal?"scrollLeft":"scrollTop"],i(),s(n,d)},l=a(!0),u=a(!1);return u(),t.addEventListener("scroll",l,qe),t.addEventListener("scrollend",u,qe),()=>{t.removeEventListener("scroll",l),t.removeEventListener("scrollend",u)}},Sn=(e,s,t)=>{if(s!=null&&s.borderBoxSize){const o=s.borderBoxSize[0];if(o)return Math.round(o[t.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[t.options.horizontal?"width":"height"])},wn=(e,{adjustments:s=0,behavior:t},o)=>{var n,i;const a=e+s;(i=(n=o.scrollElement)==null?void 0:n.scrollTo)==null||i.call(n,{[o.options.horizontal?"left":"top"]:a,behavior:t})};class On{constructor(s){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let t=null;const o=()=>t||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:t=new this.targetWindow.ResizeObserver(n=>{n.forEach(i=>{this._measureElement(i.target,i)})}));return{disconnect:()=>{var n;return(n=o())==null?void 0:n.disconnect()},observe:n=>{var i;return(i=o())==null?void 0:i.observe(n,{box:"border-box"})},unobserve:n=>{var i;return(i=o())==null?void 0:i.unobserve(n)}}})(),this.range=null,this.setOptions=t=>{Object.entries(t).forEach(([o,n])=>{typeof n>"u"&&delete t[o]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:gn,rangeExtractor:bn,onChange:()=>{},measureElement:Sn,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,...t}},this.notify=(t,o)=>{var n,i;const{startIndex:a,endIndex:l}=this.range??{startIndex:void 0,endIndex:void 0},u=this.calculateRange();(t||a!==(u==null?void 0:u.startIndex)||l!==(u==null?void 0:u.endIndex))&&((i=(n=this.options).onChange)==null||i.call(n,this,o))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(t=>t()),this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.observer.disconnect(),this.elementsCache.clear()},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var t;const o=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==o){if(this.cleanup(),!o){this.notify(!1,!1);return}this.scrollElement=o,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((t=this.scrollElement)==null?void 0:t.window)??null,this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,n=>{this.scrollRect=n,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(n,i)=>{this.scrollAdjustments=0,this.scrollDirection=i?this.getScrollOffset()<n?"forward":"backward":null,this.scrollOffset=n;const a=this.isScrolling;this.isScrolling=i,this.notify(a!==i,i)}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(t,o)=>{const n=new Map,i=new Map;for(let a=o-1;a>=0;a--){const l=t[a];if(n.has(l.lane))continue;const u=i.get(l.lane);if(u==null||l.end>u.end?i.set(l.lane,l):l.end<u.end&&n.set(l.lane,!0),n.size===this.options.lanes)break}return i.size===this.options.lanes?Array.from(i.values()).sort((a,l)=>a.end===l.end?a.index-l.index:a.end-l.end)[0]:void 0},this.getMeasurementOptions=fe(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(t,o,n,i,a)=>(this.pendingMeasuredCacheIndexes=[],{count:t,paddingStart:o,scrollMargin:n,getItemKey:i,enabled:a}),{key:!1}),this.getMeasurements=fe(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:t,paddingStart:o,scrollMargin:n,getItemKey:i,enabled:a},l)=>{var u;if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const d=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const r=this.measurementsCache.slice(0,d);for(let h=d;h<t;h++){let v=(u=this.measurementsCache[h])==null?void 0:u.measureElement;v||(v=P=>{const I=i(h),k=this.elementsCache.get(I);if(!P){k&&(this.observer.unobserve(k),this.elementsCache.delete(I));return}k!==P&&(k&&this.observer.unobserve(k),this.observer.observe(P),this.elementsCache.set(I,P)),P.isConnected&&this.resizeItem(h,this.options.measureElement(P,void 0,this))});const y=i(h),S=this.options.lanes===1?r[h-1]:this.getFurthestMeasurement(r,h),E=S?S.end+this.options.gap:o+n,T=l.get(y),$=typeof T=="number"?T:this.options.estimateSize(h),w=E+$,R=S?S.lane:h%this.options.lanes;r[h]={index:h,start:E,size:$,end:w,key:y,lane:R,measureElement:v}}return this.measurementsCache=r,r},{key:!1,debug:()=>this.options.debug}),this.calculateRange=fe(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(t,o,n)=>this.range=t.length>0&&o>0?Mn({measurements:t,outerSize:o,scrollOffset:n}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=fe(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(t,o,n,i)=>o===null?[]:t({startIndex:o.startIndex,endIndex:o.endIndex,overscan:n,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=t=>{const o=this.options.indexAttribute,n=t.getAttribute(o);return n?parseInt(n,10):(console.warn(`Missing attribute name '${o}={index}' on measured element.`),-1)},this._measureElement=(t,o)=>{const n=this.indexFromElement(t),i=this.getMeasurements()[n];if(!i||!t.isConnected){this.elementsCache.forEach((l,u)=>{l===t&&(this.observer.unobserve(t),this.elementsCache.delete(u))});return}const a=this.elementsCache.get(i.key);a!==t&&(a&&this.observer.unobserve(a),this.observer.observe(t),this.elementsCache.set(i.key,t)),this.resizeItem(n,this.options.measureElement(t,o,this))},this.resizeItem=(t,o)=>{const n=this.getMeasurements()[t];if(!n)return;const i=this.itemSizeCache.get(n.key)??n.size,a=o-i;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(n,a,this):n.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(n.index),this.itemSizeCache=new Map(this.itemSizeCache.set(n.key,o)),this.notify(!0,!1))},this.measureElement=t=>{t&&this._measureElement(t,void 0)},this.getVirtualItems=fe(()=>[this.getIndexes(),this.getMeasurements()],(t,o)=>{const n=[];for(let i=0,a=t.length;i<a;i++){const l=t[i],u=o[l];n.push(u)}return n},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=t=>{const o=this.getMeasurements();if(o.length!==0)return $e(o[pt(0,o.length-1,n=>$e(o[n]).start,t)])},this.getOffsetForAlignment=(t,o)=>{const n=this.getSize(),i=this.getScrollOffset();o==="auto"&&(t<=i?o="start":t>=i+n?o="end":o="start"),o==="start"?t=t:o==="end"?t=t-n:o==="center"&&(t=t-n/2);const a=this.options.horizontal?"scrollWidth":"scrollHeight",u=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[a]:this.scrollElement[a]:0)-n;return Math.max(Math.min(u,t),0)},this.getOffsetForIndex=(t,o="auto")=>{t=Math.max(0,Math.min(t,this.options.count-1));const n=this.getMeasurements()[t];if(!n)return;const i=this.getSize(),a=this.getScrollOffset();if(o==="auto")if(n.end>=a+i-this.options.scrollPaddingEnd)o="end";else if(n.start<=a+this.options.scrollPaddingStart)o="start";else return[a,o];const l=o==="end"?n.end+this.options.scrollPaddingEnd:n.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(l,o),o]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(t,{align:o="start",behavior:n}={})=>{this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(t,o),{adjustments:void 0,behavior:n})},this.scrollToIndex=(t,{align:o="auto",behavior:n}={})=>{t=Math.max(0,Math.min(t,this.options.count-1)),this.cancelScrollToIndex(),n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const i=this.getOffsetForIndex(t,o);if(!i)return;const[a,l]=i;this._scrollToOffset(a,{adjustments:void 0,behavior:n}),n!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(t))){const[d]=$e(this.getOffsetForIndex(t,l));vn(d,this.getScrollOffset())||this.scrollToIndex(t,{align:l,behavior:n})}else this.scrollToIndex(t,{align:l,behavior:n})}))},this.scrollBy=(t,{behavior:o}={})=>{this.cancelScrollToIndex(),o==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+t,{adjustments:void 0,behavior:o})},this.getTotalSize=()=>{var t;const o=this.getMeasurements();let n;return o.length===0?n=this.options.paddingStart:n=this.options.lanes===1?((t=o[o.length-1])==null?void 0:t.end)??0:Math.max(...o.slice(-this.options.lanes).map(i=>i.end)),n-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(t,{adjustments:o,behavior:n})=>{this.options.scrollToFn(t,{behavior:n,adjustments:o},this)},this.measure=()=>{var t,o;this.itemSizeCache=new Map,(o=(t=this.options).onChange)==null||o.call(t,this,!1)},this.setOptions(s)}}const pt=(e,s,t,o)=>{for(;e<=s;){const n=(e+s)/2|0,i=t(n);if(i<o)e=n+1;else if(i>o)s=n-1;else return n}return e>0?e-1:0};function Mn({measurements:e,outerSize:s,scrollOffset:t}){const o=e.length-1,i=pt(0,o,l=>e[l].start,t);let a=i;for(;a<o&&e[a].end<t+s;)a++;return{startIndex:i,endIndex:a}}function Cn(e){const s=new On(V(e)),t=_t(s),o=s._didMount();return X(()=>V(e).getScrollElement(),n=>{n&&s._willUpdate()},{immediate:!0}),X(()=>V(e),n=>{s.setOptions({...n,onChange:(i,a)=>{var l;Ue(t),(l=n.onChange)==null||l.call(n,i,a)}}),s._willUpdate(),Ue(t)},{immediate:!0}),Lt(o),t}function En(e){return Cn(O(()=>({observeElementRect:yn,observeElementOffset:In,scrollToFn:wn,...V(e)})))}function kn(e,s,t){let o=F(t==null?void 0:t.value),n=O(()=>e.value!==void 0);return[O(()=>n.value?e.value:o.value),function(i){return n.value||(o.value=i),s==null?void 0:s(i)}]}function Rn(){let e=Te();return nt(()=>e.dispose()),e}function $n(){let e=Rn();return s=>{e.dispose(),e.nextFrame(s)}}function Ye(e){return[e.screenX,e.screenY]}function An(){let e=F([-1,-1]);return{wasMoved(s){let t=Ye(s);return e.value[0]===t[0]&&e.value[1]===t[1]?!1:(e.value=t,!0)},update(s){e.value=Ye(s)}}}function Tn({container:e,accept:s,walk:t,enabled:o}){ve(()=>{let n=e.value;if(!n||o!==void 0&&!o.value)return;let i=st(e);if(!i)return;let a=Object.assign(u=>s(u),{acceptNode:s}),l=i.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,a,!1);for(;l.nextNode();)t(l.currentNode)})}var vt=(e=>(e[e.Left=0]="Left",e[e.Right=2]="Right",e))(vt||{});function Pn(e){throw new Error("Unexpected object: "+e)}var N=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(N||{});function Je(e,s){let t=s.resolveItems();if(t.length<=0)return null;let o=s.resolveActiveIndex(),n=o??-1;switch(e.focus){case 0:{for(let i=0;i<t.length;++i)if(!s.resolveDisabled(t[i],i,t))return i;return o}case 1:{n===-1&&(n=t.length);for(let i=n-1;i>=0;--i)if(!s.resolveDisabled(t[i],i,t))return i;return o}case 2:{for(let i=n+1;i<t.length;++i)if(!s.resolveDisabled(t[i],i,t))return i;return o}case 3:{for(let i=t.length-1;i>=0;--i)if(!s.resolveDisabled(t[i],i,t))return i;return o}case 4:{for(let i=0;i<t.length;++i)if(s.resolveId(t[i],i,t)===e.id)return i;return o}case 5:return null;default:Pn(e)}}function mt(e={},s=null,t=[]){for(let[o,n]of Object.entries(e))bt(t,gt(s,o),n);return t}function gt(e,s){return e?e+"["+s+"]":s}function bt(e,s,t){if(Array.isArray(t))for(let[o,n]of t.entries())bt(e,gt(s,o.toString()),n);else t instanceof Date?e.push([s,t.toISOString()]):typeof t=="boolean"?e.push([s,t?"1":"0"]):typeof t=="string"?e.push([s,t]):typeof t=="number"?e.push([s,`${t}`]):t==null?e.push([s,""]):mt(t,s,e)}var _n={};function Ln(e,s){return e===s}var Fn=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(Fn||{}),Bn=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(Bn||{}),zn=(e=>(e[e.Pointer=0]="Pointer",e[e.Focus=1]="Focus",e[e.Other=2]="Other",e))(zn||{});let yt=Symbol("ComboboxContext");function be(e){let s=it(yt,null);if(s===null){let t=new Error(`<${e} /> is missing a parent <Combobox /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(t,be),t}return s}let xt=Symbol("VirtualContext"),Dn=ne({name:"VirtualProvider",setup(e,{slots:s}){let t=be("VirtualProvider"),o=O(()=>{let l=B(t.optionsRef);if(!l)return{start:0,end:0};let u=window.getComputedStyle(l);return{start:parseFloat(u.paddingBlockStart||u.paddingTop),end:parseFloat(u.paddingBlockEnd||u.paddingBottom)}}),n=En(O(()=>({scrollPaddingStart:o.value.start,scrollPaddingEnd:o.value.end,count:t.virtual.value.options.length,estimateSize(){return 40},getScrollElement(){return B(t.optionsRef)},overscan:12}))),i=O(()=>{var l;return(l=t.virtual.value)==null?void 0:l.options}),a=F(0);return X([i],()=>{a.value+=1}),ot(xt,t.virtual.value?n:null),()=>[Se("div",{style:{position:"relative",width:"100%",height:`${n.value.getTotalSize()}px`},ref:l=>{if(l){if(typeof process<"u"&&_n.JEST_WORKER_ID!==void 0||t.activationTrigger.value===0)return;t.activeOptionIndex.value!==null&&t.virtual.value.options.length>t.activeOptionIndex.value&&n.value.scrollToIndex(t.activeOptionIndex.value)}}},n.value.getVirtualItems().map(l=>Kt(s.default({option:t.virtual.value.options[l.index],open:t.comboboxState.value===0})[0],{key:`${a.value}-${l.index}`,"data-index":l.index,"aria-setsize":t.virtual.value.options.length,"aria-posinset":l.index+1,style:{position:"absolute",top:0,left:0,transform:`translateY(${l.start}px)`,overflowAnchor:"none"}})))]}}),Nn=ne({name:"Combobox",emits:{"update:modelValue":e=>!0},props:{as:{type:[Object,String],default:"template"},disabled:{type:[Boolean],default:!1},by:{type:[String,Function],nullable:!0,default:null},modelValue:{type:[Object,String,Number,Boolean],default:void 0},defaultValue:{type:[Object,String,Number,Boolean],default:void 0},form:{type:String,optional:!0},name:{type:String,optional:!0},nullable:{type:Boolean,default:!1},multiple:{type:[Boolean],default:!1},immediate:{type:[Boolean],default:!1},virtual:{type:Object,default:null}},inheritAttrs:!1,setup(e,{slots:s,attrs:t,emit:o}){let n=F(1),i=F(null),a=F(null),l=F(null),u=F(null),d=F({static:!1,hold:!1}),r=F([]),h=F(null),v=F(2),y=F(!1);function S(c=f=>f){let f=h.value!==null?r.value[h.value]:null,m=c(r.value.slice()),g=m.length>0&&m[0].dataRef.order.value!==null?m.sort((A,z)=>A.dataRef.order.value-z.dataRef.order.value):Ht(m,A=>B(A.dataRef.domRef)),x=f?g.indexOf(f):null;return x===-1&&(x=null),{options:g,activeOptionIndex:x}}let E=O(()=>e.multiple?1:0),T=O(()=>e.nullable),[$,w]=kn(O(()=>e.modelValue),c=>o("update:modelValue",c),O(()=>e.defaultValue)),R=O(()=>$.value===void 0?ce(E.value,{1:[],0:void 0}):$.value),P=null,I=null;function k(c){return ce(E.value,{0(){return w==null?void 0:w(c)},1:()=>{let f=se(p.value.value).slice(),m=se(c),g=f.findIndex(x=>p.compare(m,se(x)));return g===-1?f.push(m):f.splice(g,1),w==null?void 0:w(f)}})}let b=O(()=>{});X([b],([c],[f])=>{if(p.virtual.value&&c&&f&&h.value!==null){let m=c.indexOf(f[h.value]);m!==-1?h.value=m:h.value=null}});let p={comboboxState:n,value:R,mode:E,compare(c,f){if(typeof e.by=="string"){let m=e.by;return(c==null?void 0:c[m])===(f==null?void 0:f[m])}return e.by===null?Ln(c,f):e.by(c,f)},calculateIndex(c){return p.virtual.value?e.by===null?p.virtual.value.options.indexOf(c):p.virtual.value.options.findIndex(f=>p.compare(f,c)):r.value.findIndex(f=>p.compare(f.dataRef.value,c))},defaultValue:O(()=>e.defaultValue),nullable:T,immediate:O(()=>!1),virtual:O(()=>null),inputRef:a,labelRef:i,buttonRef:l,optionsRef:u,disabled:O(()=>e.disabled),options:r,change(c){w(c)},activeOptionIndex:O(()=>{if(y.value&&h.value===null&&(p.virtual.value?p.virtual.value.options.length>0:r.value.length>0)){if(p.virtual.value){let f=p.virtual.value.options.findIndex(m=>{var g;return!((g=p.virtual.value)!=null&&g.disabled(m))});if(f!==-1)return f}let c=r.value.findIndex(f=>!f.dataRef.disabled);if(c!==-1)return c}return h.value}),activationTrigger:v,optionsPropsRef:d,closeCombobox(){y.value=!1,!e.disabled&&n.value!==1&&(n.value=1,h.value=null)},openCombobox(){if(y.value=!0,!e.disabled&&n.value!==0){if(p.value.value){let c=p.calculateIndex(p.value.value);c!==-1&&(h.value=c)}n.value=0}},setActivationTrigger(c){v.value=c},goToOption(c,f,m){y.value=!1,P!==null&&cancelAnimationFrame(P),P=requestAnimationFrame(()=>{if(e.disabled||u.value&&!d.value.static&&n.value===1)return;if(p.virtual.value){h.value=c===N.Specific?f:Je({focus:c},{resolveItems:()=>p.virtual.value.options,resolveActiveIndex:()=>{var A,z;return(z=(A=p.activeOptionIndex.value)!=null?A:p.virtual.value.options.findIndex(H=>{var D;return!((D=p.virtual.value)!=null&&D.disabled(H))}))!=null?z:null},resolveDisabled:A=>p.virtual.value.disabled(A),resolveId(){throw new Error("Function not implemented.")}}),v.value=m??2;return}let g=S();if(g.activeOptionIndex===null){let A=g.options.findIndex(z=>!z.dataRef.disabled);A!==-1&&(g.activeOptionIndex=A)}let x=c===N.Specific?f:Je({focus:c},{resolveItems:()=>g.options,resolveActiveIndex:()=>g.activeOptionIndex,resolveId:A=>A.id,resolveDisabled:A=>A.dataRef.disabled});h.value=x,v.value=m??2,r.value=g.options})},selectOption(c){let f=r.value.find(g=>g.id===c);if(!f)return;let{dataRef:m}=f;k(m.value)},selectActiveOption(){if(p.activeOptionIndex.value!==null){if(p.virtual.value)k(p.virtual.value.options[p.activeOptionIndex.value]);else{let{dataRef:c}=r.value[p.activeOptionIndex.value];k(c.value)}p.goToOption(N.Specific,p.activeOptionIndex.value)}},registerOption(c,f){let m=Ft({id:c,dataRef:f});if(p.virtual.value){r.value.push(m);return}I&&cancelAnimationFrame(I);let g=S(x=>(x.push(m),x));h.value===null&&p.isSelected(f.value.value)&&(g.activeOptionIndex=g.options.indexOf(m)),r.value=g.options,h.value=g.activeOptionIndex,v.value=2,g.options.some(x=>!B(x.dataRef.domRef))&&(I=requestAnimationFrame(()=>{let x=S();r.value=x.options,h.value=x.activeOptionIndex}))},unregisterOption(c,f){if(P!==null&&cancelAnimationFrame(P),f&&(y.value=!0),p.virtual.value){r.value=r.value.filter(g=>g.id!==c);return}let m=S(g=>{let x=g.findIndex(A=>A.id===c);return x!==-1&&g.splice(x,1),g});r.value=m.options,h.value=m.activeOptionIndex,v.value=2},isSelected(c){return ce(E.value,{0:()=>p.compare(se(p.value.value),se(c)),1:()=>se(p.value.value).some(f=>p.compare(se(f),se(c)))})},isActive(c){return h.value===p.calculateIndex(c)}};Bt([a,l,u],()=>p.closeCombobox(),O(()=>n.value===0)),ot(yt,p),zt(O(()=>ce(n.value,{0:Ie.Open,1:Ie.Closed})));let M=O(()=>{var c;return(c=B(a))==null?void 0:c.closest("form")});return me(()=>{X([M],()=>{if(!M.value||e.defaultValue===void 0)return;function c(){p.change(e.defaultValue)}return M.value.addEventListener("reset",c),()=>{var f;(f=M.value)==null||f.removeEventListener("reset",c)}},{immediate:!0})}),()=>{var c,f,m;let{name:g,disabled:x,form:A,...z}=e,H={open:n.value===0,disabled:x,activeIndex:p.activeOptionIndex.value,activeOption:p.activeOptionIndex.value===null?null:p.virtual.value?p.virtual.value.options[(c=p.activeOptionIndex.value)!=null?c:0]:(m=(f=p.options.value[p.activeOptionIndex.value])==null?void 0:f.dataRef.value)!=null?m:null,value:R.value};return Se(we,[...g!=null&&R.value!=null?mt({[g]:R.value}).map(([D,Q])=>Se(Dt,Nt({features:jt.Hidden,key:D,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:A,disabled:x,name:D,value:Q}))):[],ke({theirProps:{...t,...De(z,["by","defaultValue","immediate","modelValue","multiple","nullable","onUpdate:modelValue","virtual"])},ourProps:{},slot:H,slots:s,attrs:t,name:"Combobox"})])}}}),jn=ne({name:"ComboboxInput",props:{as:{type:[Object,String],default:"input"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},displayValue:{type:Function},defaultValue:{type:String,default:void 0},id:{type:String,default:null}},emits:{change:e=>!0},setup(e,{emit:s,attrs:t,slots:o,expose:n}){var i;let a=(i=e.id)!=null?i:`headlessui-combobox-input-${Ne()}`,l=be("ComboboxInput"),u=O(()=>st(B(l.inputRef))),d={value:!1};n({el:l.inputRef,$el:l.inputRef});function r(){l.change(null);let I=B(l.optionsRef);I&&(I.scrollTop=0),l.goToOption(N.Nothing)}let h=O(()=>{var I;let k=l.value.value;return B(l.inputRef)?typeof e.displayValue<"u"&&k!==void 0?(I=e.displayValue(k))!=null?I:"":typeof k=="string"?k:"":""});me(()=>{X([h,l.comboboxState,u],([I,k],[b,p])=>{if(d.value)return;let M=B(l.inputRef);M&&((p===0&&k===1||I!==b)&&(M.value=I),requestAnimationFrame(()=>{var c;if(d.value||!M||((c=u.value)==null?void 0:c.activeElement)!==M)return;let{selectionStart:f,selectionEnd:m}=M;Math.abs((m??0)-(f??0))===0&&f===0&&M.setSelectionRange(M.value.length,M.value.length)}))},{immediate:!0}),X([l.comboboxState],([I],[k])=>{if(I===0&&k===1){if(d.value)return;let b=B(l.inputRef);if(!b)return;let p=b.value,{selectionStart:M,selectionEnd:c,selectionDirection:f}=b;b.value="",b.value=p,f!==null?b.setSelectionRange(M,c,f):b.setSelectionRange(M,c)}})});let v=F(!1);function y(){v.value=!0}function S(){Te().nextFrame(()=>{v.value=!1})}let E=$n();function T(I){switch(d.value=!0,E(()=>{d.value=!1}),I.key){case Z.Enter:if(d.value=!1,l.comboboxState.value!==0||v.value)return;if(I.preventDefault(),I.stopPropagation(),l.activeOptionIndex.value===null){l.closeCombobox();return}l.selectActiveOption(),l.mode.value===0&&l.closeCombobox();break;case Z.ArrowDown:return d.value=!1,I.preventDefault(),I.stopPropagation(),ce(l.comboboxState.value,{0:()=>l.goToOption(N.Next),1:()=>l.openCombobox()});case Z.ArrowUp:return d.value=!1,I.preventDefault(),I.stopPropagation(),ce(l.comboboxState.value,{0:()=>l.goToOption(N.Previous),1:()=>{l.openCombobox(),lt(()=>{l.value.value||l.goToOption(N.Last)})}});case Z.Home:if(I.shiftKey)break;return d.value=!1,I.preventDefault(),I.stopPropagation(),l.goToOption(N.First);case Z.PageUp:return d.value=!1,I.preventDefault(),I.stopPropagation(),l.goToOption(N.First);case Z.End:if(I.shiftKey)break;return d.value=!1,I.preventDefault(),I.stopPropagation(),l.goToOption(N.Last);case Z.PageDown:return d.value=!1,I.preventDefault(),I.stopPropagation(),l.goToOption(N.Last);case Z.Escape:if(d.value=!1,l.comboboxState.value!==0)return;I.preventDefault(),l.optionsRef.value&&!l.optionsPropsRef.value.static&&I.stopPropagation(),l.nullable.value&&l.mode.value===0&&l.value.value===null&&r(),l.closeCombobox();break;case Z.Tab:if(d.value=!1,l.comboboxState.value!==0)return;l.mode.value===0&&l.activationTrigger.value!==1&&l.selectActiveOption(),l.closeCombobox();break}}function $(I){s("change",I),l.nullable.value&&l.mode.value===0&&I.target.value===""&&r(),l.openCombobox()}function w(I){var k,b,p;let M=(k=I.relatedTarget)!=null?k:Ge.find(c=>c!==I.currentTarget);if(d.value=!1,!((b=B(l.optionsRef))!=null&&b.contains(M))&&!((p=B(l.buttonRef))!=null&&p.contains(M))&&l.comboboxState.value===0)return I.preventDefault(),l.mode.value===0&&(l.nullable.value&&l.value.value===null?r():l.activationTrigger.value!==1&&l.selectActiveOption()),l.closeCombobox()}function R(I){var k,b,p;let M=(k=I.relatedTarget)!=null?k:Ge.find(c=>c!==I.currentTarget);(b=B(l.buttonRef))!=null&&b.contains(M)||(p=B(l.optionsRef))!=null&&p.contains(M)||l.disabled.value||l.immediate.value&&l.comboboxState.value!==0&&(l.openCombobox(),Te().nextFrame(()=>{l.setActivationTrigger(1)}))}let P=O(()=>{var I,k,b,p;return(p=(b=(k=e.defaultValue)!=null?k:l.defaultValue.value!==void 0?(I=e.displayValue)==null?void 0:I.call(e,l.defaultValue.value):null)!=null?b:l.defaultValue.value)!=null?p:""});return()=>{var I,k,b,p,M,c,f;let m={open:l.comboboxState.value===0},{displayValue:g,onChange:x,...A}=e,z={"aria-controls":(I=l.optionsRef.value)==null?void 0:I.id,"aria-expanded":l.comboboxState.value===0,"aria-activedescendant":l.activeOptionIndex.value===null?void 0:l.virtual.value?(k=l.options.value.find(H=>!l.virtual.value.disabled(H.dataRef.value)&&l.compare(H.dataRef.value,l.virtual.value.options[l.activeOptionIndex.value])))==null?void 0:k.id:(b=l.options.value[l.activeOptionIndex.value])==null?void 0:b.id,"aria-labelledby":(c=(p=B(l.labelRef))==null?void 0:p.id)!=null?c:(M=B(l.buttonRef))==null?void 0:M.id,"aria-autocomplete":"list",id:a,onCompositionstart:y,onCompositionend:S,onKeydown:T,onInput:$,onFocus:R,onBlur:w,role:"combobox",type:(f=t.type)!=null?f:"text",tabIndex:0,ref:l.inputRef,defaultValue:P.value,disabled:l.disabled.value===!0?!0:void 0};return ke({ourProps:z,theirProps:A,slot:m,attrs:t,slots:o,features:Oe.RenderStrategy|Oe.Static,name:"ComboboxInput"})}}}),Vn=ne({name:"ComboboxOptions",props:{as:{type:[Object,String],default:"ul"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},hold:{type:[Boolean],default:!1}},setup(e,{attrs:s,slots:t,expose:o}){let n=be("ComboboxOptions"),i=`headlessui-combobox-options-${Ne()}`;o({el:n.optionsRef,$el:n.optionsRef}),ve(()=>{n.optionsPropsRef.value.static=e.static}),ve(()=>{n.optionsPropsRef.value.hold=e.hold});let a=Vt(),l=O(()=>a!==null?(a.value&Ie.Open)===Ie.Open:n.comboboxState.value===0);Tn({container:O(()=>B(n.optionsRef)),enabled:O(()=>n.comboboxState.value===0),accept(d){return d.getAttribute("role")==="option"?NodeFilter.FILTER_REJECT:d.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(d){d.setAttribute("role","none")}});function u(d){d.preventDefault()}return()=>{var d,r,h;let v={open:n.comboboxState.value===0},y={"aria-labelledby":(h=(d=B(n.labelRef))==null?void 0:d.id)!=null?h:(r=B(n.buttonRef))==null?void 0:r.id,id:i,ref:n.optionsRef,role:"listbox","aria-multiselectable":n.mode.value===1?!0:void 0,onMousedown:u},S=De(e,["hold"]);return ke({ourProps:y,theirProps:S,slot:v,attrs:s,slots:n.virtual.value&&n.comboboxState.value===0?{...t,default:()=>[Se(Dn,{},t.default)]}:t,features:Oe.RenderStrategy|Oe.Static,visible:l.value,name:"ComboboxOptions"})}}}),Kn=ne({name:"ComboboxOption",props:{as:{type:[Object,String],default:"li"},value:{type:[Object,String,Number,Boolean]},disabled:{type:Boolean,default:!1},order:{type:[Number],default:null}},setup(e,{slots:s,attrs:t,expose:o}){let n=be("ComboboxOption"),i=`headlessui-combobox-option-${Ne()}`,a=F(null),l=O(()=>e.disabled);o({el:a,$el:a});let u=O(()=>{var w;return n.virtual.value?n.activeOptionIndex.value===n.calculateIndex(e.value):n.activeOptionIndex.value===null?!1:((w=n.options.value[n.activeOptionIndex.value])==null?void 0:w.id)===i}),d=O(()=>n.isSelected(e.value)),r=it(xt,null),h=O(()=>({disabled:e.disabled,value:e.value,domRef:a,order:O(()=>e.order)}));me(()=>n.registerOption(i,h)),nt(()=>n.unregisterOption(i,u.value)),ve(()=>{let w=B(a);w&&(r==null||r.value.measureElement(w))}),ve(()=>{n.comboboxState.value===0&&u.value&&(n.virtual.value||n.activationTrigger.value!==0&&lt(()=>{var w,R;return(R=(w=B(a))==null?void 0:w.scrollIntoView)==null?void 0:R.call(w,{block:"nearest"})}))});function v(w){w.preventDefault(),w.button===vt.Left&&(l.value||(n.selectOption(i),Wt()||requestAnimationFrame(()=>{var R;return(R=B(n.inputRef))==null?void 0:R.focus({preventScroll:!0})}),n.mode.value===0&&n.closeCombobox()))}function y(){var w;if(e.disabled||(w=n.virtual.value)!=null&&w.disabled(e.value))return n.goToOption(N.Nothing);let R=n.calculateIndex(e.value);n.goToOption(N.Specific,R)}let S=An();function E(w){S.update(w)}function T(w){var R;if(!S.wasMoved(w)||e.disabled||(R=n.virtual.value)!=null&&R.disabled(e.value)||u.value)return;let P=n.calculateIndex(e.value);n.goToOption(N.Specific,P,0)}function $(w){var R;S.wasMoved(w)&&(e.disabled||(R=n.virtual.value)!=null&&R.disabled(e.value)||u.value&&(n.optionsPropsRef.value.hold||n.goToOption(N.Nothing)))}return()=>{let{disabled:w}=e,R={active:u.value,selected:d.value,disabled:w},P={id:i,ref:a,role:"option",tabIndex:w===!0?void 0:-1,"aria-disabled":w===!0?!0:void 0,"aria-selected":d.value,disabled:void 0,onMousedown:v,onFocus:y,onPointerenter:E,onMouseenter:E,onPointermove:T,onMousemove:T,onPointerleave:$,onMouseleave:$},I=De(e,["order","value"]);return ke({ourProps:P,theirProps:I,slot:R,attrs:t,slots:s,name:"ComboboxOption"})}}});function te(e){return Array.isArray?Array.isArray(e):wt(e)==="[object Array]"}const Hn=1/0;function Wn(e){if(typeof e=="string")return e;let s=e+"";return s=="0"&&1/e==-Hn?"-0":s}function Un(e){return e==null?"":Wn(e)}function J(e){return typeof e=="string"}function It(e){return typeof e=="number"}function Gn(e){return e===!0||e===!1||qn(e)&&wt(e)=="[object Boolean]"}function St(e){return typeof e=="object"}function qn(e){return St(e)&&e!==null}function K(e){return e!=null}function Ae(e){return!e.trim().length}function wt(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}const Yn="Incorrect 'index' type",Jn=e=>`Invalid value for key ${e}`,Xn=e=>`Pattern length exceeds max of ${e}.`,Qn=e=>`Missing ${e} property in key`,Zn=e=>`Property 'weight' in key '${e}' must be a positive integer`,Xe=Object.prototype.hasOwnProperty;class es{constructor(s){this._keys=[],this._keyMap={};let t=0;s.forEach(o=>{let n=Ot(o);t+=n.weight,this._keys.push(n),this._keyMap[n.id]=n,t+=n.weight}),this._keys.forEach(o=>{o.weight/=t})}get(s){return this._keyMap[s]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Ot(e){let s=null,t=null,o=null,n=1,i=null;if(J(e)||te(e))o=e,s=Qe(e),t=Pe(e);else{if(!Xe.call(e,"name"))throw new Error(Qn("name"));const a=e.name;if(o=a,Xe.call(e,"weight")&&(n=e.weight,n<=0))throw new Error(Zn(a));s=Qe(a),t=Pe(a),i=e.getFn}return{path:s,id:t,weight:n,src:o,getFn:i}}function Qe(e){return te(e)?e:e.split(".")}function Pe(e){return te(e)?e.join("."):e}function ts(e,s){let t=[],o=!1;const n=(i,a,l)=>{if(K(i))if(!a[l])t.push(i);else{let u=a[l];const d=i[u];if(!K(d))return;if(l===a.length-1&&(J(d)||It(d)||Gn(d)))t.push(Un(d));else if(te(d)){o=!0;for(let r=0,h=d.length;r<h;r+=1)n(d[r],a,l+1)}else a.length&&n(d,a,l+1)}};return n(e,J(s)?s.split("."):s,0),o?t:t[0]}const ns={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},ss={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(e,s)=>e.score===s.score?e.idx<s.idx?-1:1:e.score<s.score?-1:1},os={location:0,threshold:.6,distance:100},is={useExtendedSearch:!1,getFn:ts,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var C={...ss,...ns,...os,...is};const ls=/[^ ]+/g;function as(e=1,s=3){const t=new Map,o=Math.pow(10,s);return{get(n){const i=n.match(ls).length;if(t.has(i))return t.get(i);const a=1/Math.pow(i,.5*e),l=parseFloat(Math.round(a*o)/o);return t.set(i,l),l},clear(){t.clear()}}}class We{constructor({getFn:s=C.getFn,fieldNormWeight:t=C.fieldNormWeight}={}){this.norm=as(t,3),this.getFn=s,this.isCreated=!1,this.setIndexRecords()}setSources(s=[]){this.docs=s}setIndexRecords(s=[]){this.records=s}setKeys(s=[]){this.keys=s,this._keysMap={},s.forEach((t,o)=>{this._keysMap[t.id]=o})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,J(this.docs[0])?this.docs.forEach((s,t)=>{this._addString(s,t)}):this.docs.forEach((s,t)=>{this._addObject(s,t)}),this.norm.clear())}add(s){const t=this.size();J(s)?this._addString(s,t):this._addObject(s,t)}removeAt(s){this.records.splice(s,1);for(let t=s,o=this.size();t<o;t+=1)this.records[t].i-=1}getValueForItemAtKeyId(s,t){return s[this._keysMap[t]]}size(){return this.records.length}_addString(s,t){if(!K(s)||Ae(s))return;let o={v:s,i:t,n:this.norm.get(s)};this.records.push(o)}_addObject(s,t){let o={i:t,$:{}};this.keys.forEach((n,i)=>{let a=n.getFn?n.getFn(s):this.getFn(s,n.path);if(K(a)){if(te(a)){let l=[];const u=[{nestedArrIndex:-1,value:a}];for(;u.length;){const{nestedArrIndex:d,value:r}=u.pop();if(K(r))if(J(r)&&!Ae(r)){let h={v:r,i:d,n:this.norm.get(r)};l.push(h)}else te(r)&&r.forEach((h,v)=>{u.push({nestedArrIndex:v,value:h})})}o.$[i]=l}else if(J(a)&&!Ae(a)){let l={v:a,n:this.norm.get(a)};o.$[i]=l}}}),this.records.push(o)}toJSON(){return{keys:this.keys,records:this.records}}}function Mt(e,s,{getFn:t=C.getFn,fieldNormWeight:o=C.fieldNormWeight}={}){const n=new We({getFn:t,fieldNormWeight:o});return n.setKeys(e.map(Ot)),n.setSources(s),n.create(),n}function rs(e,{getFn:s=C.getFn,fieldNormWeight:t=C.fieldNormWeight}={}){const{keys:o,records:n}=e,i=new We({getFn:s,fieldNormWeight:t});return i.setKeys(o),i.setIndexRecords(n),i}function xe(e,{errors:s=0,currentLocation:t=0,expectedLocation:o=0,distance:n=C.distance,ignoreLocation:i=C.ignoreLocation}={}){const a=s/e.length;if(i)return a;const l=Math.abs(o-t);return n?a+l/n:l?1:a}function us(e=[],s=C.minMatchCharLength){let t=[],o=-1,n=-1,i=0;for(let a=e.length;i<a;i+=1){let l=e[i];l&&o===-1?o=i:!l&&o!==-1&&(n=i-1,n-o+1>=s&&t.push([o,n]),o=-1)}return e[i-1]&&i-o>=s&&t.push([o,i-1]),t}const le=32;function cs(e,s,t,{location:o=C.location,distance:n=C.distance,threshold:i=C.threshold,findAllMatches:a=C.findAllMatches,minMatchCharLength:l=C.minMatchCharLength,includeMatches:u=C.includeMatches,ignoreLocation:d=C.ignoreLocation}={}){if(s.length>le)throw new Error(Xn(le));const r=s.length,h=e.length,v=Math.max(0,Math.min(o,h));let y=i,S=v;const E=l>1||u,T=E?Array(h):[];let $;for(;($=e.indexOf(s,S))>-1;){let b=xe(s,{currentLocation:$,expectedLocation:v,distance:n,ignoreLocation:d});if(y=Math.min(b,y),S=$+r,E){let p=0;for(;p<r;)T[$+p]=1,p+=1}}S=-1;let w=[],R=1,P=r+h;const I=1<<r-1;for(let b=0;b<r;b+=1){let p=0,M=P;for(;p<M;)xe(s,{errors:b,currentLocation:v+M,expectedLocation:v,distance:n,ignoreLocation:d})<=y?p=M:P=M,M=Math.floor((P-p)/2+p);P=M;let c=Math.max(1,v-M+1),f=a?h:Math.min(v+M,h)+r,m=Array(f+2);m[f+1]=(1<<b)-1;for(let x=f;x>=c;x-=1){let A=x-1,z=t[e.charAt(A)];if(E&&(T[A]=+!!z),m[x]=(m[x+1]<<1|1)&z,b&&(m[x]|=(w[x+1]|w[x])<<1|1|w[x+1]),m[x]&I&&(R=xe(s,{errors:b,currentLocation:A,expectedLocation:v,distance:n,ignoreLocation:d}),R<=y)){if(y=R,S=A,S<=v)break;c=Math.max(1,2*v-S)}}if(xe(s,{errors:b+1,currentLocation:v,expectedLocation:v,distance:n,ignoreLocation:d})>y)break;w=m}const k={isMatch:S>=0,score:Math.max(.001,R)};if(E){const b=us(T,l);b.length?u&&(k.indices=b):k.isMatch=!1}return k}function ds(e){let s={};for(let t=0,o=e.length;t<o;t+=1){const n=e.charAt(t);s[n]=(s[n]||0)|1<<o-t-1}return s}class Ct{constructor(s,{location:t=C.location,threshold:o=C.threshold,distance:n=C.distance,includeMatches:i=C.includeMatches,findAllMatches:a=C.findAllMatches,minMatchCharLength:l=C.minMatchCharLength,isCaseSensitive:u=C.isCaseSensitive,ignoreLocation:d=C.ignoreLocation}={}){if(this.options={location:t,threshold:o,distance:n,includeMatches:i,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:d},this.pattern=u?s:s.toLowerCase(),this.chunks=[],!this.pattern.length)return;const r=(v,y)=>{this.chunks.push({pattern:v,alphabet:ds(v),startIndex:y})},h=this.pattern.length;if(h>le){let v=0;const y=h%le,S=h-y;for(;v<S;)r(this.pattern.substr(v,le),v),v+=le;if(y){const E=h-le;r(this.pattern.substr(E),E)}}else r(this.pattern,0)}searchIn(s){const{isCaseSensitive:t,includeMatches:o}=this.options;if(t||(s=s.toLowerCase()),this.pattern===s){let S={isMatch:!0,score:0};return o&&(S.indices=[[0,s.length-1]]),S}const{location:n,distance:i,threshold:a,findAllMatches:l,minMatchCharLength:u,ignoreLocation:d}=this.options;let r=[],h=0,v=!1;this.chunks.forEach(({pattern:S,alphabet:E,startIndex:T})=>{const{isMatch:$,score:w,indices:R}=cs(s,S,E,{location:n+T,distance:i,threshold:a,findAllMatches:l,minMatchCharLength:u,includeMatches:o,ignoreLocation:d});$&&(v=!0),h+=w,$&&R&&(r=[...r,...R])});let y={isMatch:v,score:v?h/this.chunks.length:1};return v&&o&&(y.indices=r),y}}class ie{constructor(s){this.pattern=s}static isMultiMatch(s){return Ze(s,this.multiRegex)}static isSingleMatch(s){return Ze(s,this.singleRegex)}search(){}}function Ze(e,s){const t=e.match(s);return t?t[1]:null}class hs extends ie{constructor(s){super(s)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(s){const t=s===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class fs extends ie{constructor(s){super(s)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(s){const o=s.indexOf(this.pattern)===-1;return{isMatch:o,score:o?0:1,indices:[0,s.length-1]}}}class ps extends ie{constructor(s){super(s)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(s){const t=s.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}class vs extends ie{constructor(s){super(s)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(s){const t=!s.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,s.length-1]}}}class ms extends ie{constructor(s){super(s)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(s){const t=s.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[s.length-this.pattern.length,s.length-1]}}}class gs extends ie{constructor(s){super(s)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(s){const t=!s.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,s.length-1]}}}class Et extends ie{constructor(s,{location:t=C.location,threshold:o=C.threshold,distance:n=C.distance,includeMatches:i=C.includeMatches,findAllMatches:a=C.findAllMatches,minMatchCharLength:l=C.minMatchCharLength,isCaseSensitive:u=C.isCaseSensitive,ignoreLocation:d=C.ignoreLocation}={}){super(s),this._bitapSearch=new Ct(s,{location:t,threshold:o,distance:n,includeMatches:i,findAllMatches:a,minMatchCharLength:l,isCaseSensitive:u,ignoreLocation:d})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(s){return this._bitapSearch.searchIn(s)}}class kt extends ie{constructor(s){super(s)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(s){let t=0,o;const n=[],i=this.pattern.length;for(;(o=s.indexOf(this.pattern,t))>-1;)t=o+i,n.push([o,t-1]);const a=!!n.length;return{isMatch:a,score:a?0:1,indices:n}}}const _e=[hs,kt,ps,vs,gs,ms,fs,Et],et=_e.length,bs=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,ys="|";function xs(e,s={}){return e.split(ys).map(t=>{let o=t.trim().split(bs).filter(i=>i&&!!i.trim()),n=[];for(let i=0,a=o.length;i<a;i+=1){const l=o[i];let u=!1,d=-1;for(;!u&&++d<et;){const r=_e[d];let h=r.isMultiMatch(l);h&&(n.push(new r(h,s)),u=!0)}if(!u)for(d=-1;++d<et;){const r=_e[d];let h=r.isSingleMatch(l);if(h){n.push(new r(h,s));break}}}return n})}const Is=new Set([Et.type,kt.type]);class Ss{constructor(s,{isCaseSensitive:t=C.isCaseSensitive,includeMatches:o=C.includeMatches,minMatchCharLength:n=C.minMatchCharLength,ignoreLocation:i=C.ignoreLocation,findAllMatches:a=C.findAllMatches,location:l=C.location,threshold:u=C.threshold,distance:d=C.distance}={}){this.query=null,this.options={isCaseSensitive:t,includeMatches:o,minMatchCharLength:n,findAllMatches:a,ignoreLocation:i,location:l,threshold:u,distance:d},this.pattern=t?s:s.toLowerCase(),this.query=xs(this.pattern,this.options)}static condition(s,t){return t.useExtendedSearch}searchIn(s){const t=this.query;if(!t)return{isMatch:!1,score:1};const{includeMatches:o,isCaseSensitive:n}=this.options;s=n?s:s.toLowerCase();let i=0,a=[],l=0;for(let u=0,d=t.length;u<d;u+=1){const r=t[u];a.length=0,i=0;for(let h=0,v=r.length;h<v;h+=1){const y=r[h],{isMatch:S,indices:E,score:T}=y.search(s);if(S){if(i+=1,l+=T,o){const $=y.constructor.type;Is.has($)?a=[...a,...E]:a.push(E)}}else{l=0,i=0,a.length=0;break}}if(i){let h={isMatch:!0,score:l/i};return o&&(h.indices=a),h}}return{isMatch:!1,score:1}}}const Le=[];function ws(...e){Le.push(...e)}function Fe(e,s){for(let t=0,o=Le.length;t<o;t+=1){let n=Le[t];if(n.condition(e,s))return new n(e,s)}return new Ct(e,s)}const Ee={AND:"$and",OR:"$or"},Be={PATH:"$path",PATTERN:"$val"},ze=e=>!!(e[Ee.AND]||e[Ee.OR]),Os=e=>!!e[Be.PATH],Ms=e=>!te(e)&&St(e)&&!ze(e),tt=e=>({[Ee.AND]:Object.keys(e).map(s=>({[s]:e[s]}))});function Rt(e,s,{auto:t=!0}={}){const o=n=>{let i=Object.keys(n);const a=Os(n);if(!a&&i.length>1&&!ze(n))return o(tt(n));if(Ms(n)){const u=a?n[Be.PATH]:i[0],d=a?n[Be.PATTERN]:n[u];if(!J(d))throw new Error(Jn(u));const r={keyId:Pe(u),pattern:d};return t&&(r.searcher=Fe(d,s)),r}let l={children:[],operator:i[0]};return i.forEach(u=>{const d=n[u];te(d)&&d.forEach(r=>{l.children.push(o(r))})}),l};return ze(e)||(e=tt(e)),o(e)}function Cs(e,{ignoreFieldNorm:s=C.ignoreFieldNorm}){e.forEach(t=>{let o=1;t.matches.forEach(({key:n,norm:i,score:a})=>{const l=n?n.weight:null;o*=Math.pow(a===0&&l?Number.EPSILON:a,(l||1)*(s?1:i))}),t.score=o})}function Es(e,s){const t=e.matches;s.matches=[],K(t)&&t.forEach(o=>{if(!K(o.indices)||!o.indices.length)return;const{indices:n,value:i}=o;let a={indices:n,value:i};o.key&&(a.key=o.key.src),o.idx>-1&&(a.refIndex=o.idx),s.matches.push(a)})}function ks(e,s){s.score=e.score}function Rs(e,s,{includeMatches:t=C.includeMatches,includeScore:o=C.includeScore}={}){const n=[];return t&&n.push(Es),o&&n.push(ks),e.map(i=>{const{idx:a}=i,l={item:s[a],refIndex:a};return n.length&&n.forEach(u=>{u(i,l)}),l})}class de{constructor(s,t={},o){this.options={...C,...t},this.options.useExtendedSearch,this._keyStore=new es(this.options.keys),this.setCollection(s,o)}setCollection(s,t){if(this._docs=s,t&&!(t instanceof We))throw new Error(Yn);this._myIndex=t||Mt(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(s){K(s)&&(this._docs.push(s),this._myIndex.add(s))}remove(s=()=>!1){const t=[];for(let o=0,n=this._docs.length;o<n;o+=1){const i=this._docs[o];s(i,o)&&(this.removeAt(o),o-=1,n-=1,t.push(i))}return t}removeAt(s){this._docs.splice(s,1),this._myIndex.removeAt(s)}getIndex(){return this._myIndex}search(s,{limit:t=-1}={}){const{includeMatches:o,includeScore:n,shouldSort:i,sortFn:a,ignoreFieldNorm:l}=this.options;let u=J(s)?J(this._docs[0])?this._searchStringList(s):this._searchObjectList(s):this._searchLogical(s);return Cs(u,{ignoreFieldNorm:l}),i&&u.sort(a),It(t)&&t>-1&&(u=u.slice(0,t)),Rs(u,this._docs,{includeMatches:o,includeScore:n})}_searchStringList(s){const t=Fe(s,this.options),{records:o}=this._myIndex,n=[];return o.forEach(({v:i,i:a,n:l})=>{if(!K(i))return;const{isMatch:u,score:d,indices:r}=t.searchIn(i);u&&n.push({item:i,idx:a,matches:[{score:d,value:i,norm:l,indices:r}]})}),n}_searchLogical(s){const t=Rt(s,this.options),o=(l,u,d)=>{if(!l.children){const{keyId:h,searcher:v}=l,y=this._findMatches({key:this._keyStore.get(h),value:this._myIndex.getValueForItemAtKeyId(u,h),searcher:v});return y&&y.length?[{idx:d,item:u,matches:y}]:[]}const r=[];for(let h=0,v=l.children.length;h<v;h+=1){const y=l.children[h],S=o(y,u,d);if(S.length)r.push(...S);else if(l.operator===Ee.AND)return[]}return r},n=this._myIndex.records,i={},a=[];return n.forEach(({$:l,i:u})=>{if(K(l)){let d=o(t,l,u);d.length&&(i[u]||(i[u]={idx:u,item:l,matches:[]},a.push(i[u])),d.forEach(({matches:r})=>{i[u].matches.push(...r)}))}}),a}_searchObjectList(s){const t=Fe(s,this.options),{keys:o,records:n}=this._myIndex,i=[];return n.forEach(({$:a,i:l})=>{if(!K(a))return;let u=[];o.forEach((d,r)=>{u.push(...this._findMatches({key:d,value:a[r],searcher:t}))}),u.length&&i.push({idx:l,item:a,matches:u})}),i}_findMatches({key:s,value:t,searcher:o}){if(!K(t))return[];let n=[];if(te(t))t.forEach(({v:i,i:a,n:l})=>{if(!K(i))return;const{isMatch:u,score:d,indices:r}=o.searchIn(i);u&&n.push({score:d,key:s,value:i,idx:a,norm:l,indices:r})});else{const{v:i,n:a}=t,{isMatch:l,score:u,indices:d}=o.searchIn(i);l&&n.push({score:u,key:s,value:i,norm:a,indices:d})}return n}}de.version="6.6.2";de.createIndex=Mt;de.parseIndex=rs;de.config=C;de.parseQuery=Rt;ws(Ss);function $s(e,s,t){const o=()=>{var a,l;return new de((a=Y(s))!=null?a:[],(l=Y(t))==null?void 0:l.fuseOptions)},n=F(o());X(()=>{var a;return(a=Y(t))==null?void 0:a.fuseOptions},()=>{n.value=o()},{deep:!0}),X(()=>Y(s),a=>{n.value.setCollection(a)},{deep:!0});const i=O(()=>{const a=Y(t);if(a!=null&&a.matchAllWhenSearchEmpty&&!Y(e))return Y(s).map((u,d)=>({item:u,refIndex:d}));const l=a==null?void 0:a.resultLimit;return n.value.search(Y(e),l?{limit:l}:void 0)});return{fuse:n,results:i}}const As=ne({components:{HComboboxOption:Kn,UIcon:Re,UAvatar:at,UKbd:rt},props:{group:{type:Object,required:!0},query:{type:String,default:""},groupAttribute:{type:String,required:!0},commandAttribute:{type:String,required:!0},selectedIcon:{type:String,required:!0},ui:{type:Object,required:!0}},setup(e){const s=O(()=>{const o=e.group[e.groupAttribute];return typeof o=="function"?o(e.query):o});function t(o,{indices:n,value:i}){if(o===i)return"";let a="",l=0;n.forEach(d=>{const r=d[1]+1,h=r-d[0]>=e.query.length;a+=[i.substring(l,d[0]),h&&"<mark>",i.substring(d[0],r),h&&"</mark>"].filter(Boolean).join(""),l=r}),a+=i.substring(l);const u=a.indexOf("<mark>");return u>60&&(a=`...${a.substring(u-60)}`),a}return Ve(()=>Ke("$GPmVolPcxw")),{label:s,highlight:t}}}),Ts=["aria-label"],Ps=["innerHTML"];function _s(e,s,t,o,n,i){const a=Re,l=at,u=rt,d=ee("HComboboxOption");return L(),W("div",{class:_(e.ui.group.wrapper)},[e.label?(L(),W("h2",{key:0,class:_(e.ui.group.label)},oe(e.label),3)):U("",!0),G("div",{class:_(e.ui.group.container),"aria-label":e.group[e.groupAttribute]},[(L(!0),W(we,null,Me(e.group.commands,(r,h)=>(L(),j(d,{key:`${e.group.key}-${h}`,value:r,disabled:r.disabled,as:"template"},{default:q(({active:v,selected:y})=>[G("div",{class:_([e.ui.group.command.base,v?e.ui.group.command.active:e.ui.group.command.inactive,r.disabled?"cursor-not-allowed":"cursor-pointer"])},[G("div",{class:_(e.ui.group.command.container)},[ae(e.$slots,`${e.group.key}-icon`,{group:e.group,command:r,active:v,selected:y},()=>[r.icon?(L(),j(a,{key:0,name:r.icon,class:_([e.ui.group.command.icon.base,v?e.ui.group.command.icon.active:e.ui.group.command.icon.inactive,r.iconClass]),"aria-hidden":"true"},null,8,["name","class"])):r.avatar?(L(),j(l,re({key:1},{size:e.ui.group.command.avatar.size,...r.avatar},{class:e.ui.group.command.avatar.base,"aria-hidden":"true"}),null,16,["class"])):r.chip?(L(),W("span",{key:2,class:_(e.ui.group.command.chip.base),style:Ut({background:`#${r.chip}`})},null,6)):U("",!0)]),G("div",{class:_([e.ui.group.command.label,r.disabled&&e.ui.group.command.disabled])},[ae(e.$slots,`${e.group.key}-command`,{group:e.group,command:r,active:v,selected:y},()=>{var S,E;return[r.prefix?(L(),W("span",{key:0,class:_(["flex-shrink-0",r.prefixClass||e.ui.group.command.prefix])},oe(r.prefix),3)):U("",!0),G("span",{class:_(["truncate",{"flex-none":r.suffix||((S=r.matches)==null?void 0:S.length)}])},oe(r[e.commandAttribute]),3),(E=r.matches)!=null&&E.length?(L(),W("span",{key:1,class:_(["truncate",r.suffixClass||e.ui.group.command.suffix]),innerHTML:e.highlight(r[e.commandAttribute],r.matches[0])},null,10,Ps)):r.suffix?(L(),W("span",{key:2,class:_(["truncate",r.suffixClass||e.ui.group.command.suffix])},oe(r.suffix),3)):U("",!0)]})],2)],2),y?(L(),j(a,{key:0,name:e.selectedIcon,class:_(e.ui.group.command.selectedIcon.base),"aria-hidden":"true"},null,8,["name","class"])):v&&(e.group.active||e.$slots[`${e.group.key}-active`])?ae(e.$slots,`${e.group.key}-active`,{key:1,group:e.group,command:r,active:v,selected:y},()=>[e.group.active?(L(),W("span",{key:0,class:_(e.ui.group.active)},oe(e.group.active),3)):U("",!0)]):ae(e.$slots,`${e.group.key}-inactive`,{key:2,group:e.group,command:r,active:v,selected:y},()=>{var S;return[(S=r.shortcuts)!=null&&S.length?(L(),W("span",{key:0,class:_(e.ui.group.command.shortcuts)},[(L(!0),W(we,null,Me(r.shortcuts,E=>(L(),j(u,{key:E},{default:q(()=>[Gt(oe(E),1)]),_:2},1024))),128))],2)):!r.disabled&&e.group.inactive?(L(),W("span",{key:1,class:_(e.ui.group.inactive)},oe(e.group.inactive),3)):U("",!0)]})],2)]),_:2},1032,["value","disabled"]))),128))],10,Ts)],2)}const Ls=je(As,[["render",_s]]),ue=ut(Ce.ui.strategy,Ce.ui.commandPalette,fn),Fs=ne({components:{HCombobox:Nn,HComboboxInput:jn,HComboboxOptions:Vn,UIcon:Re,UButton:ct,CommandPaletteGroup:Ls},inheritAttrs:!1,props:{modelValue:{type:[String,Number,Object,Array],default:null},by:{type:String,default:"id"},multiple:{type:Boolean,default:!1},nullable:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},groups:{type:Array,default:()=>[]},icon:{type:String,default:()=>ue.default.icon},loadingIcon:{type:String,default:()=>ue.default.loadingIcon},selectedIcon:{type:String,default:()=>ue.default.selectedIcon},closeButton:{type:Object,default:()=>ue.default.closeButton},emptyState:{type:Object,default:()=>ue.default.emptyState},placeholder:{type:String,default:"Search..."},groupAttribute:{type:String,default:"label"},commandAttribute:{type:String,default:"label"},autoselect:{type:Boolean,default:!0},autoclear:{type:Boolean,default:!0},debounce:{type:Number,default:200},fuse:{type:Object,default:()=>({})},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close"],setup(e,{emit:s,expose:t}){const{ui:o,attrs:n}=He("commandPalette",ge(e,"ui"),ue,ge(e,"class")),i=F(""),a=F(),l=F(null),u=F(!1);me(()=>{e.autoselect&&P()}),me(()=>{setTimeout(()=>{var M;const b=(M=a.value)==null?void 0:M.$.provides;if(!b)return;const p=Object.getOwnPropertySymbols(b);l.value=p.length&&b[p[0]]},200)});const d=O(()=>dt({},e.fuse,{fuseOptions:{keys:[e.commandAttribute]},resultLimit:12,matchAllWhenSearchEmpty:!0})),r=O(()=>{var p;const b=[];for(const M of e.groups)M.search||b.push(...((p=M.commands)==null?void 0:p.map(c=>({...c,group:M.key})))||[]);return b}),h=F({}),{results:v}=$s(i,r,d);function y(b,p){if(b)return b.filter&&typeof b.filter=="function"&&(p=b.filter(i.value,p)),{...b,commands:p.slice(0,d.value.resultLimit)}}const S=O(()=>{if(!v.value)return[];const b=v.value.reduce((c,f)=>{var x;const{item:m,...g}=f;return m.group&&(c[x=m.group]||(c[x]=[]),c[m.group].push({...m,...g})),c},{}),p=Object.entries(b).map(([c,f])=>{const m=e.groups.find(g=>g.key===c);return m?y(m,f):null}).filter(Boolean),M=e.groups.filter(c=>{var f;return!!c.search&&((f=h.value[c.key])==null?void 0:f.length)}).map(c=>{const f=h.value[c.key]||[];return y(c,[...f])});return[...p,...M]}),E=ht(async()=>{const b=e.groups.filter(p=>!!p.search);b.length&&(u.value=!0,await Promise.all(b.map(async p=>{h.value[p.key]=await p.search(i.value)})),u.value=!1,R())},e.debounce);X(i,()=>{E(),R()});const T=O(()=>(e.loading||u.value)&&e.loadingIcon?e.loadingIcon:e.icon),$=O(()=>qt(o.value.input.icon.base,o.value.input.icon.size,(e.loading||u.value)&&e.loadingIcon&&o.value.input.icon.loading)),w=O(()=>e.emptyState===null?null:{...o.value.default.emptyState,...e.emptyState});function R(){setTimeout(()=>{var b;(b=a.value)==null||b.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"PageUp"}))},0)}function P(){setTimeout(()=>{var b;(b=a.value)==null||b.$el.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown"}))},0)}function I(b){s("update:modelValue",b,{query:i.value}),e.autoclear&&setTimeout(()=>{i.value=""},0)}function k(){i.value?i.value="":s("close")}return t({query:i,updateQuery:b=>{i.value=b},comboboxApi:l,results:v}),Ve(()=>Ke("$PdvkM43yfH")),{ui:o,attrs:n,groups:S,comboboxInput:a,query:i,iconName:T,iconClass:$,emptyState:w,onSelect:I,onClear:k}}});function Bs(e,s,t,o,n,i){const a=Re,l=ee("HComboboxInput"),u=ct,d=ee("CommandPaletteGroup"),r=ee("HComboboxOptions"),h=ee("HCombobox");return L(),j(h,re({by:e.by,"model-value":e.modelValue,multiple:e.multiple,nullable:e.nullable,class:e.ui.wrapper},e.attrs,{as:"div","onUpdate:modelValue":e.onSelect}),{default:q(()=>[Yt(G("div",{class:_(e.ui.input.wrapper)},[e.iconName?(L(),j(a,{key:0,name:e.iconName,class:_(e.iconClass),"aria-hidden":"true"},null,8,["name","class"])):U("",!0),pe(l,{ref:"comboboxInput",value:e.query,class:_([e.ui.input.base,e.ui.input.size,e.ui.input.height,e.ui.input.padding,e.icon&&e.ui.input.icon.padding,e.closeButton&&e.ui.input.closeButton.padding]),placeholder:e.placeholder,"aria-label":e.placeholder,autocomplete:"off",onChange:s[0]||(s[0]=v=>e.query=v.target.value)},null,8,["value","class","placeholder","aria-label"]),e.closeButton?(L(),j(u,re({key:1,"aria-label":"Close"},{...e.ui.default.closeButton||{},...e.closeButton},{class:e.ui.input.closeButton.base,onClick:e.onClear}),null,16,["class","onClick"])):U("",!0)],2),[[Jt,e.searchable]]),e.groups.length?(L(),j(r,{key:0,static:"",hold:"",as:"div","aria-label":"Commands",class:_(e.ui.container)},{default:q(()=>[(L(!0),W(we,null,Me(e.groups,v=>(L(),j(d,{key:v.key,query:e.query,group:v,"group-attribute":e.groupAttribute,"command-attribute":e.commandAttribute,"selected-icon":e.selectedIcon,ui:e.ui},Xt({_:2},[Me(e.$slots,(y,S)=>({name:S,fn:q(E=>[ae(e.$slots,S,Qt(Zt(E)))])}))]),1032,["query","group","group-attribute","command-attribute","selected-icon","ui"]))),128))]),_:3},8,["class"])):e.emptyState?ae(e.$slots,"empty-state",{key:1},()=>[G("div",{class:_(e.ui.emptyState.wrapper)},[e.emptyState.icon?(L(),j(a,{key:0,name:e.emptyState.icon,class:_(e.ui.emptyState.icon),"aria-hidden":"true"},null,8,["name","class"])):U("",!0),G("p",{class:_(e.query?e.ui.emptyState.queryLabel:e.ui.emptyState.label)},oe(e.query?e.emptyState.queryLabel:e.emptyState.label),3)],2)]):U("",!0)]),_:3},16,["by","model-value","multiple","nullable","class","onUpdate:modelValue"])}const zs=je(Fs,[["render",Bs]]),Ds=ut(Ce.ui.strategy,Ce.ui.modal,pn),Ns=ne({components:{HDialog:en,HDialogPanel:tn,TransitionRoot:nn,TransitionChild:sn},inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},appear:{type:Boolean,default:!1},overlay:{type:Boolean,default:!0},transition:{type:Boolean,default:!0},preventClose:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},emits:["update:modelValue","close","close-prevented","after-leave"],setup(e,{emit:s}){const{ui:t,attrs:o}=He("modal",ge(e,"ui"),Ds,ge(e,"class")),n=O({get(){return e.modelValue},set(u){s("update:modelValue",u)}}),i=O(()=>e.transition?{...t.value.transition}:{});function a(u){if(e.preventClose){s("close-prevented");return}n.value=u,s("close")}const l=()=>{s("after-leave")};return Ve(()=>Ke("$bBI2RfrOmx")),{ui:t,attrs:o,isOpen:n,transitionClass:i,onAfterLeave:l,close:a}}});function js(e,s,t,o,n,i){const a=ee("TransitionChild"),l=ee("HDialogPanel"),u=ee("HDialog"),d=ee("TransitionRoot");return L(),j(d,{appear:e.appear,show:e.isOpen,as:"template",onAfterLeave:e.onAfterLeave},{default:q(()=>[pe(u,re({class:e.ui.wrapper},e.attrs,{onClose:e.close}),{default:q(()=>[e.overlay?(L(),j(a,re({key:0,as:"template",appear:e.appear},e.ui.overlay.transition),{default:q(()=>[G("div",{class:_([e.ui.overlay.base,e.ui.overlay.background])},null,2)]),_:1},16,["appear"])):U("",!0),G("div",{class:_(e.ui.inner)},[G("div",{class:_([e.ui.container,!e.fullscreen&&e.ui.padding])},[pe(a,re({as:"template",appear:e.appear},e.transitionClass),{default:q(()=>[pe(l,{class:_([e.ui.base,e.ui.background,e.ui.ring,e.ui.shadow,e.fullscreen?e.ui.fullscreen:[e.ui.width,e.ui.height,e.ui.rounded,e.ui.margin]])},{default:q(()=>[ae(e.$slots,"default")]),_:3},8,["class"])]),_:3},16,["appear"])],2)],2)]),_:3},16,["class","onClose"])]),_:3},8,["appear","show","onAfterLeave"])}const Vs=je(Ns,[["render",js]]),$t=e=>{if(!e.children)return e._path;for(const s of(e==null?void 0:e.children)||[]){const t=$t(s);if(t)return t}},At=(e,s)=>{for(const t of s){if(t._path===e&&!t._id)return t.children;if(t.children){const o=At(e,t.children);if(o)return o}}},Tt=(e,s)=>{for(const t of s){if(t._path===e)return t;if(t.children){const o=Tt(e,t.children);if(o)return o}}},Ks=(e,s,t)=>{let o;const n=(i,a)=>{for(const l of a)if(!(i!=="/"&&l._path==="/")){if(i!=null&&i.startsWith(l._path)&&l[s]&&(o=l[s]),l._path===i)return;l.children&&n(i,l.children)}};return n(e,t),o},Hs=()=>({navBottomLink:$t,navDirFromPath:At,navPageFromPath:Tt,navKeyFromPath:Ks});function Ws(...e){return O(()=>e.every(s=>Y(s)))}function Us(e){return O(()=>!Y(e))}const Gs=/^[^-]+.*-.*[^-]+$/,qs=/^[^_]+.*_.*[^_]+$/,Ys=(e,s={})=>{const{macOS:t,usingInput:o}=ft();let n=[];const i=F([]),a=()=>{i.value.splice(0,i.value.length)},l=ht(a,s.chainDelay??800),u=d=>{if(!d.key)return;const r=/^[a-z]{1}$/i.test(d.key);let h;if(i.value.push(d.key),i.value.length>=2){h=i.value.slice(-2).join("-");for(const v of n.filter(y=>y.chained))if(v.key===h){v.condition.value&&(d.preventDefault(),v.handler()),a();return}}for(const v of n.filter(y=>!y.chained))if(d.key.toLowerCase()===v.key&&d.metaKey===v.metaKey&&d.ctrlKey===v.ctrlKey&&!(r&&d.shiftKey!==v.shiftKey)){v.condition.value&&(d.preventDefault(),v.handler()),a();return}l()};n=Object.entries(e).map(([d,r])=>{var S,E;if(!r)return null;let h;d.includes("-")&&d!=="-"&&!((S=d.match(Gs))!=null&&S.length)&&console.trace(`[Shortcut] Invalid key: "${d}"`),d.includes("_")&&d!=="_"&&!((E=d.match(qs))!=null&&E.length)&&console.trace(`[Shortcut] Invalid key: "${d}"`);const v=d.includes("-")&&d!=="-";if(v)h={key:d.toLowerCase(),metaKey:!1,ctrlKey:!1,shiftKey:!1,altKey:!1};else{const T=d.toLowerCase().split("_").map($=>$);h={key:T.filter($=>!["meta","ctrl","shift","alt"].includes($)).join("_"),metaKey:T.includes("meta"),ctrlKey:T.includes("ctrl"),shiftKey:T.includes("shift"),altKey:T.includes("alt")}}if(h.chained=v,!t.value&&h.metaKey&&!h.ctrlKey&&(h.metaKey=!1,h.ctrlKey=!0),typeof r=="function"?h.handler=r:typeof r=="object"&&(h={...h,handler:r.handler}),!h.handler)return console.trace("[Shortcut] Invalid value"),null;const y=[];return r.usingInput?typeof r.usingInput=="string"&&y.push(O(()=>o.value===r.usingInput)):y.push(Us(o)),h.condition=Ws(...y,...r.whenever||[]),h}).filter(Boolean),on("keydown",u)},Xs=ne({__name:"DocsSearch",props:{files:{type:Array,default:()=>[]},navigation:{type:Array,default:()=>[]},links:{type:Array,default:()=>[]},groups:{type:Array,default:()=>[]},fuse:{type:Object,default:()=>({})},hideColorMode:{type:Boolean,default:!1},ui:{type:Object,default:()=>({})}},setup(e,{expose:s}){const t={padding:"p-0 sm:p-4",rounded:"rounded-none sm:rounded-lg",width:"sm:max-w-3xl",height:"h-screen sm:h-[28rem]",commandPalette:{input:{height:"h-[--header-height] sm:h-12",icon:{size:"h-5 w-5",padding:"ps-11"}},group:{command:{prefix:"!text-foreground after:content-['_>']"}},container:"scroll-py-10",closeButton:{icon:"i-heroicons-x-mark-20-solid",color:"gray",variant:"ghost",size:"xs"}},fileIcon:{name:"i-heroicons-document-text"}},o=e,n=ln(),{navKeyFromPath:i}=Hs(),a=an(),{usingInput:l}=ft(),{isDocsSearchModalOpen:u}=rn(),d=un({mobile:640}),r=cn(),{ui:h,attrs:v}=He("docs.search",ge(o,"ui"),t,void 0,!0),y=d.smaller("mobile"),S=F();function E(c){var f;return c.icon?c.icon:(f=c.navigation)!=null&&f.icon?c.navigation.icon:(o.navigation&&(c.icon=i(c._path,"icon",o.navigation)),c.icon||h.value.fileIcon.name)}const T=O(()=>dt({},o.fuse,{fuseOptions:{ignoreLocation:!0,includeMatches:!0,threshold:.1,keys:[{name:"title",weight:5},{name:"label",weight:5},{name:"suffix",weight:3},"children.children.value","children.children.children.value","children.children.children.children.value","children.children.children.children.children.value"]},resultLimit:12}));function $(c,f){return c?f:f==null?void 0:f.filter(m=>!m.child)}const w=O(()=>{var f,m;let c=[];return(f=o.navigation)!=null&&f.length&&(o.navigation.some(g=>{var x;return!!((x=g.children)!=null&&x.length)})?c=(o.navigation||[]).map(g=>({key:g._path,label:g.title,commands:(o.files||[]).filter(x=>{var A;return(A=x._path)==null?void 0:A.startsWith(g._path)}).flatMap(x=>P(x,g)),filter:$})):c=[{key:"docs",commands:(o.files||[]).flatMap(g=>P(g)),filter:$}]),[((m=o.links)==null?void 0:m.length)&&{key:"links",label:"Links",commands:o.links.flatMap(g=>[g.to&&{id:n.resolve(g.to).fullPath,...g,icon:g.icon||h.value.fileIcon.name},...(g.children||[]).map(x=>({id:n.resolve(x.to).fullPath,prefix:g.label,suffix:x.description,...x,icon:x.icon||g.icon||h.value.fileIcon.name}))]).filter(Boolean)},...c,...o.groups||[],!(r!=null&&r.forced)&&!o.hideColorMode&&{key:"theme",label:"Theme",commands:[{id:"theme-light",label:"Light",icon:a.ui.icons.light,disabled:r.preference==="light",click:()=>{r.preference="light"}},{id:"theme-dark",label:"Dark",icon:a.ui.icons.dark,disabled:r.preference==="dark",click:()=>{r.preference="dark"}}]}].filter(Boolean)}),R=O(()=>u.value||!l.value);function P(c,f){var g,x,A,z,H;const m=(g=dn((f==null?void 0:f.children)||[],c))==null?void 0:g.map(({title:D})=>D).join(" > ");return[{id:c._id,label:((x=c.navigation)==null?void 0:x.title)||c.title,title:((A=c.navigation)==null?void 0:A.title)||c.title,prefix:m,to:c._path,suffix:c.description,children:k(b(((z=c==null?void 0:c.body)==null?void 0:z.children)||[])),icon:E(c)},...Object.entries(p(((H=c==null?void 0:c.body)==null?void 0:H.children)||[])).map(([D,{title:Q,children:ye}])=>{var he;if(Q)return{id:`${c._path}${D}`,label:Q,prefix:(m?`${m} > `:"")+`${((he=c.navigation)==null?void 0:he.title)||c.title}`,to:`${c._path}${D}`,children:k(ye),icon:E(c),child:!0}})].filter(Boolean)}function I(c){return(c==null?void 0:c.map(f=>{var m,g;if(["code","code-inline","em","a","strong"].includes(f.tag))return{type:"text",value:((g=(m=f.children)==null?void 0:m.find(x=>x.type==="text"))==null?void 0:g.value)||""};if(f.type==="text")return f}).filter(Boolean))||[]}function k(c){return c.map(f=>{if(["pre","style","video"].includes(f.tag))return;let m=[...f.children||[]];return["p","h1","h2","h3","h4","h5","h6","li","td","th"].includes(f.tag)&&m.length?(m=I(m).reduce((g,x)=>(g.length&&g[g.length-1].type==="text"?g[g.length-1].value+=x.value||"":g.push({...x}),g),[]),{...f,children:m}):{...f,children:k(m)}}).filter(Boolean)}function b(c){const f=[];for(const m of c){if(["h1","h2","h3"].includes(m.tag))break;f.push(m)}return f}function p(c){var x,A,z,H;const f={};let m="",g="";for(const D of c)["h1","h2","h3"].includes(D.tag)&&(g=((z=(A=(x=D.children)==null?void 0:x.map(Q=>{var ye,he;if(Q.type==="text")return Q.value;if(["code","code-inline","em","a","strong"].includes(Q.tag))return(he=(ye=Q.children)==null?void 0:ye.find(Pt=>Pt.type==="text"))==null?void 0:he.value}))==null?void 0:A.filter(Boolean))==null?void 0:z.join(" "))||"",g&&((H=D.props)!=null&&H.id)&&(m=`#${encodeURIComponent(D.props.id)}`)),f[m]?f[m].children.push(D):f[m]={children:[D],title:g};return f}function M(c){u.value=!1,c.click?c.click():c.to?c.target==="_blank"||c.to.startsWith("http")?window.open(c.to,c.target||"_blank"):n.push(c.to):c.href&&window.open(c.href,"_blank")}return Ys({meta_k:{usingInput:!0,whenever:[R],handler:()=>{u.value=!u.value}},escape:{usingInput:!0,whenever:[u],handler:()=>{u.value=!1}}}),s({commandPaletteRef:S}),(c,f)=>{const m=zs,g=Vs;return L(),j(g,re({modelValue:V(u),"onUpdate:modelValue":f[1]||(f[1]=x=>hn(u)?u.value=x:null),overlay:!V(y),transition:!V(y),ui:V(h)},V(v)),{default:q(()=>[pe(m,{ref_key:"commandPaletteRef",ref:S,groups:V(w),ui:V(h).commandPalette,"close-button":V(h).commandPalette.closeButton,fuse:V(T),"onUpdate:modelValue":M,onClose:f[0]||(f[0]=x=>u.value=!1)},null,8,["groups","ui","close-button","fuse"])]),_:1},16,["modelValue","overlay","transition","ui"])}}});export{Xs as default};
